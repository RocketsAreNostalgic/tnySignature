jQuery(document).ready(function(){let e;jQuery("#user_signature_image_id").val()?jQuery("#removeimage").prop("disabled",!1):jQuery("#removeimage").prop("disabled",!0),jQuery(".signature-image").on("click",function(i){if(i.preventDefault(),e){e.open();return}e=wp.media.frames.fileFrame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),e.on("select",function(){const r=e.state().get("selection").first().toJSON();jQuery("#user_signature_image_id").attr("value",r.id),r.sizes.hasOwnProperty("medium")?jQuery("#signature-image-preview").attr("src",r.sizes.medium.url):jQuery("#signature-image-preview").attr("src",r.url),jQuery("#removeimage").prop("disabled",!0),jQuery("#uploadimage").prop("disabled",!0),jQuery("#submit").trigger("click")}),e.open()}),jQuery("#removeimage").on("click",function(){jQuery("#user_signature_image_id").val()&&(jQuery("#user_signature_image_id").val(""),jQuery("#signature-image-preview").attr("src",SINGNATURE.sigurl+"assets/img/question.png").attr("srcset",""),jQuery("#removeimage").prop("disabled",!0),jQuery("#uploadimage").prop("disabled",!0),jQuery("#submit").trigger("click"))})});
